import tkinter as tk
import tkinter as ttk
from tkinter import messagebox

import re


def validar_nombre(pantalla):
    nombre = pantalla.get()
    if re.match(r'^[a-zA-Z]+(?: [a-zA-Z]+)?$', nombre):
        etiqueta_nombre.config(text="", foreground="black")
        return True
    else:
        etiqueta_nombre.config(text="El nombre solo debe contener letra",foreground="red")
        return False


def validar_apellido(pantalla):
    nombre = pantalla.get()
    if re.match(r'^[a-zA-Z]+(?: [a-zA-Z]+)?$', nombre):
        etiqueta_apellido.config(text="", foreground="black")
        return True
    else:
        etiqueta_apellido.config(text="El apellido solo debe contener letra",foreground="red")
        return False


def validar_correo(pantalla):
    correo = pantalla.get()
    if "@" in correo and all(char.isalnum() or char == "@" or char == "."for char in correo):
        etiqueta_correo.config(text="", foreground="black")
        return True
    else:
        etiqueta_correo.config(text="el correo solo debe contener letras,@ y/o .",foreground="red")
        return False


def validar_edad(pantalla):
    if pantalla.get().isdigit():
        etiqueta_edad.config(text="", foreground="black")
        return True
    else:
        etiqueta_edad.config(text="la edad solo debe contener numeros",foreground="red")
        return False


def validar_fecha_nacimiento(pantalla):
    fecha = pantalla.get().split('/')
    if len(fecha) == 3 and all(part.isdigit() for part in fecha):
        dia, mes, anio = map(int, fecha)
    if 1 <= dia <= 31 and 1 <= mes <= 12 and 1900 <= anio <= 2024:
        etiqueta_fecha.config(text="", foreground="black")
        return True
    else:
        etiqueta_fecha.config(text="la fecha solo debe contener numeros y fechas actuales",foreground="red")
        return False


def validar_todo():
    return (validar_nombre(nombre_usuario) and validar_apellido(apellido_usuario)
        and validar_correo(correo_usuario) and validar_edad(edad_usuario)
        and validar_fecha_nacimiento(fecha_nacimiento_usuario))


def salir():
    respuesta = messagebox.askyesno("Salir", "¿Estás seguro que quieres salir?")
    if respuesta:
        ventana.quit()


# Crear ventana
ventana = tk.Tk()
ventana.title("Formulario de Registro")

# Nombre
nombre_label = tk.Label(ventana, text="Nombre:")
nombre_label.grid(row=0, column=0, padx=5, pady=5)
nombre_usuario = tk.Entry(ventana)
nombre_usuario.grid(row=0, column=1, padx=5, pady=5)

# Etiqueta para mostrar mensaje de error para el nombre
etiqueta_nombre = ttk.Label(ventana, text="", foreground="red")
etiqueta_nombre.grid(row=1, column=1, columnspan=2, pady=5)

# Apellido
apellido_label = tk.Label(ventana, text="Apellido:")
apellido_label.grid(row=2, column=0, padx=5, pady=5)
apellido_usuario = tk.Entry(ventana)
apellido_usuario.grid(row=2, column=1, padx=5, pady=5)

# Etiqueta para mostrar mensaje de error para el apellido
etiqueta_apellido = ttk.Label(ventana, text="", foreground="red")
etiqueta_apellido.grid(row=3, column=1, columnspan=2, pady=5)

# Correo
correo_label = tk.Label(ventana, text="Correo:")
correo_label.grid(row=4, column=0, padx=5, pady=5)
correo_usuario = tk.Entry(ventana)
correo_usuario.grid(row=4, column=1, padx=5, pady=5)

# Etiqueta para mostrar mensaje de error para el correo
etiqueta_correo = ttk.Label(ventana, text="", foreground="red")
etiqueta_correo.grid(row=5, column=1, columnspan=2, pady=5)

# Edad
edad_label = tk.Label(ventana, text="Edad:")
edad_label.grid(row=6, column=0, padx=5, pady=5)
edad_usuario = tk.Entry(ventana)
edad_usuario.grid(row=6, column=1, padx=5, pady=5)

# Etiqueta para mostrar mensaje de error para la edad
etiqueta_edad = ttk.Label(ventana, text="", foreground="red")
etiqueta_edad.grid(row=7, column=1, columnspan=2, pady=5)

# Fecha de Nacimiento
fecha_nacimiento_label = tk.Label(ventana,text="Fecha de Nacimiento (DD/MM/YYYY):")
fecha_nacimiento_label.grid(row=8, column=0, padx=5, pady=5)
fecha_nacimiento_usuario = tk.Entry(ventana)
fecha_nacimiento_usuario.grid(row=8, column=1, padx=5, pady=5)

# Etiqueta para mostrar mensaje de error para la fecha
etiqueta_fecha = ttk.Label(ventana, text="", foreground="red")
etiqueta_fecha.grid(row=9, column=1, columnspan=2, pady=5)

# Botón de enviar
enviar_boton = tk.Button(ventana,text="Guardar",command=lambda: messagebox.showinfo("Validación", "Información enviada correctamente")
if validar_todo()
else None)
enviar_boton.grid(row=10, column=0, columnspan=2, padx=5, pady=5)

# Botón de salir
salir_boton = tk.Button(ventana, text="Salir", command=salir)
salir_boton.grid(row=11, column=0, columnspan=2, padx=5, pady=5)

ventana.mainloop()
